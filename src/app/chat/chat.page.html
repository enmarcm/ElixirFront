<ion-header>
  <ion-toolbar class="bg-blue-600">
    <ion-title class="text-white text-lg">Chat</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="bg-gray-200 p-4">
  <ion-list>
    <ion-item *ngFor="let message of messages" lines="none" class="rounded-xl my-2" [class]="message.isSentByMe ? 'bg-blue-200' : 'bg-green-200'">
      <div class="flex flex-col p-2" [class]="message.isSentByMe ? 'items-end' : 'items-start'">
        <div class="text-sm font-semibold">{{ message.senderData.userName }}</div>
        <div class="text-md mt-1 rounded-lg p-2" [class]="message.isSentByMe ? 'bg-blue-300 shadow-md' : 'bg-green-300 shadow-md'">{{ message.message }}</div>
      </div>
    </ion-item>
  </ion-list>

  <ion-item class="fixed inset-x-0 bottom-0 bg-white shadow-2xl p-2 rounded-t-3xl">
    <ion-input
      class="flex-1 border-gray-300 rounded-full p-2"
      placeholder="Escribe un mensaje..."
      [(ngModel)]="newMessage"
    ></ion-input>
    <ion-button class="ml-2 bg-blue-600 text-white rounded-full" (click)="sendMessage()">Enviar</ion-button>
  </ion-item>
</ion-content>